# ====================================
# Solana Indexer Configuration
# ====================================

# RPC Configuration
# Solana RPC endpoint URL (required)
RPC_URL=https://api.mainnet-beta.solana.com

# Worker Configuration
# Number of concurrent collector workers
WORKER_COUNT=32

# Number of concurrent parser workers
PARSER_COUNT=24

# Parser range configuration (for distributed parsing)
START_PARSER_RANGE=0
FINISH_PARSER_RANGE=24

# Number of concurrent validator workers
VALIDATOR_COUNT=3

# Data Collection Configuration
# Starting slot number for collection
START_SLOT=335474500

# Number of slots to fetch in a single RPC batch request
BATCH_SIZE=10

# Multiplier for upload batch size (upload when batch_size * multiplier is reached)
UPLOAD_BATCH_MULTIPLIER=10

# Storage Configuration
# Storage mode: 'gcs' for Google Cloud Storage, 'local' for local filesystem
STORE_MODE=gcs

# GCS bucket for storing raw and processed data
GCS_BUCKET_NAME=your-bucket-name

# GCS bucket for storing state files
GCS_STATE_BUCKET_NAME=your-state-bucket-name

# Path to GCP service account JSON file (required for GCS)
GCP_SERVICE_ACCOUNT_JSON=credentials/service-account.json

# Optional: GCP project ID (if not specified in service account)
GCP_PROJECT=your-gcp-project-id

# Directory Configuration
# Local directory for temporary state files
STATE_DIR=state/

# Prefix for processed data in GCS
SRC_PREFIX=processed_data/

# Polling Configuration
# Interval in seconds for validator to check for new files
VALIDATOR_POLL_INTERVAL=60

# RPC check interval in seconds for queue manager
RPC_CHECK_INTERVAL=60

# ====================================
# Monitoring Configuration (Optional)
# ====================================

# Grafana Configuration
GF_AUTH_ANONYMOUS_ENABLED=true
GF_SERVER_HTTP_ADDR=0.0.0.0
GF_SERVER_HTTP_PORT=3000
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=secret
GF_AUTH_ANONYMOUS_ORG_ROLE=Admin
GF_FEATURE_TOGGLES_ENABLE=accessControlOnCall lokiLogsDataplane
GF_INSTALL_PLUGINS=https://storage.googleapis.com/integration-artifacts/grafana-lokiexplore-app/grafana-lokiexplore-app-latest.zip;grafana-lokiexplore-app

# ====================================
# Python Environment (Optional)
# ====================================

# Python path configuration
PYTHONPATH=/app/src

# Disable Python output buffering
PYTHONUNBUFFERED=1

# Poetry configuration
POETRY_VERSION=1.8.2
POETRY_VIRTUALENVS_CREATE=false